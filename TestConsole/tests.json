{
  "discovery": [
    {
      "TestName": "Kube Discovery - TLS Secrets - SUCCESS",
      "Description": "This test is expected to succeed because the secret should be found.",
      "Fail": false,
      "ExpectedValue": "Success",
      "JobConfig": {
        "LastInventory": [],
        "CertificateStoreDetails": {
          "ClientMachine": "my.test.orchestrator.com",
          "StorePath": "",
          "StorePassword": "",
          "Properties": "{  \"KubeNamespace\": \"default\",  \"KubeSecretName\": \"tls-secret-01\",  \"KubeSecretType\": \"tls_secret\"}",
          "Type": 4108
        },
        "JobProperties": {
          "KubeSecretType": "tls_secret",
          "KubeNamespace": "default",
          "KubeSecretName": "",
          "KubeSvcCreds": "",
          "Paths": [
            "tls_secret",
            "secret",
            "cert"
          ],
          "ServerUsername": "kubeconfig",
          "ServerPassword": ""
        },
        "JobCancelled": false,
        "ServerError": null,
        "JobHistoryId": 100000,
        "RequestStatus": 1,
        "ServerUsername": "kubeconfig",
        "ServerPassword": "",
        "UseSSL": true,
        "JobTypeId": "00000000-0000-0000-0000-000000000000",
        "JobId": "70ad3edf-68d0-4a87-b03d-083b1fd86ea1",
        "Capability": "CertStores.Kube.Jobs.Discovery"
      }
    }
  ],
  "inventory": [
    {
      "TestName": "Kube Inventory - TLS Secret - tls-secret-01 - SUCCESS",
      "Description": "This test is expected to succeed because the secret should be found.",
      "Fail": false,
      "ExpectedValue": "Success",
      "JobConfig": {
        "LastInventory": [],
        "CertificateStoreDetails": {
          "ClientMachine": "my.test.orchestrator.com",
          "StorePath": "tls-secret-01",
          "StorePassword": "",
          "Properties": "{  \"KubeNamespace\": \"default\",  \"KubeSecretName\": \"tls-secret-01\",  \"KubeSecretType\": \"tls_secret\"}",
          "Type": 4108
        },
        "JobCancelled": false,
        "ServerError": null,
        "JobHistoryId": 100000,
        "RequestStatus": 1,
        "ServerUsername": "kubeconfig",
        "ServerPassword": "",
        "UseSSL": true,
        "JobProperties": null,
        "JobTypeId": "00000000-0000-0000-0000-000000000000",
        "JobId": "70ad3edf-68d0-4a87-b03d-083b1fd86ea1",
        "Capability": "CertStores.Kube.Jobs.Inventory"
      }
    },
    {
      "TestName": "Kube Inventory - Opaque Secret - opaque-secret-01 - FAIL",
      "Description": "This test is expected to fail because the secret should not be found.",
      "Fail": true,
      "ExpectedValue": "Fail",
      "JobConfig": {
        "LastInventory": [],
        "CertificateStoreDetails": {
          "ClientMachine": "my.test.orchestrator.com",
          "StorePath": "opaque-secret-01",
          "StorePassword": "",
          "Properties": "{  \"KubeNamespace\": \"default\",  \"KubeSecretName\": \"opaque-secret-01\",  \"KubeSecretType\": \"secret\"}",
          "Type": 4108
        },
        "JobCancelled": false,
        "ServerError": null,
        "JobHistoryId": 100001,
        "RequestStatus": 1,
        "ServerUsername": "kubeconfig",
        "ServerPassword": "",
        "UseSSL": true,
        "JobProperties": null,
        "JobTypeId": "00000000-0000-0000-0000-000000000000",
        "JobId": "26f2dc5d-c797-4a31-94c8-d9814db83f18",
        "Capability": "CertStores.Kube.Jobs.Inventory"
      }
    },
    {
      "TestName": "Kube Inventory - Opaque Secret - opaque-secret-00 - SUCCESS",
      "Description": "This test is expected to succeed because the secret should be found.",
      "Fail": false,
      "ExpectedValue": "Fail",
      "JobConfig": {
        "LastInventory": [],
        "CertificateStoreDetails": {
          "ClientMachine": "my.test.orchestrator.com",
          "StorePath": "tf-kube-secret-opaque-00",
          "StorePassword": "",
          "Properties": "{  \"KubeNamespace\": \"default\",  \"KubeSecretName\": \"tf-kube-secret-opaque-00\",  \"KubeSecretType\": \"secret\"}",
          "Type": 4108
        },
        "JobCancelled": false,
        "ServerError": null,
        "JobHistoryId": 100002,
        "RequestStatus": 1,
        "ServerUsername": "kubeconfig",
        "ServerPassword": "",
        "UseSSL": true,
        "JobProperties": null,
        "JobTypeId": "00000000-0000-0000-0000-000000000000",
        "JobId": "26f2dc5d-c797-4a31-94c8-d9814db83f18",
        "Capability": "CertStores.Kube.Jobs.Inventory"
      }
    },
    {
      "TestName": "Kube Inventory - Opaque Secret - opaque-secret-01 - SUCCESS",
      "Description": "This test is expected to succeed because the secret should be found.",
      "Fail": false,
      "ExpectedValue": "Fail",
      "JobConfig": {
        "LastInventory": [],
        "CertificateStoreDetails": {
          "ClientMachine": "my.test.orchestrator.com",
          "StorePath": "tf-kube-secret-opaque-01",
          "StorePassword": "",
          "Properties": "{  \"KubeNamespace\": \"default\",  \"KubeSecretName\": \"tf-kube-secret-opaque-01\",  \"KubeSecretType\": \"secret\"}",
          "Type": 4108
        },
        "JobCancelled": false,
        "ServerError": null,
        "JobHistoryId": 100003,
        "RequestStatus": 1,
        "ServerUsername": "kubeconfig",
        "ServerPassword": "",
        "UseSSL": true,
        "JobProperties": null,
        "JobTypeId": "00000000-0000-0000-0000-000000000000",
        "JobId": "26f2dc5d-c797-4a31-94c8-d9814db83f18",
        "Capability": "CertStores.Kube.Jobs.Inventory"
      }
    },
    {
      "TestName": "Kube Inventory - Certificate - cert-01 - SUCCESS",
      "Description": "This test is expected to succeed because the secret should not be found.",
      "Fail": true,
      "ExpectedValue": "Fail",
      "JobConfig": {
        "LastInventory": [],
        "CertificateStoreDetails": {
          "ClientMachine": "my.test.orchestrator.com",
          "StorePath": "cert-01",
          "StorePassword": "",
          "Properties": "{  \"KubeNamespace\": \"default\",  \"KubeSecretName\": \"cert-01\",  \"KubeSecretType\": \"cert\"}",
          "Type": 4108
        },
        "JobCancelled": false,
        "ServerError": null,
        "JobHistoryId": 100004,
        "RequestStatus": 1,
        "ServerUsername": "kubeconfig",
        "ServerPassword": "",
        "UseSSL": true,
        "JobProperties": null,
        "JobTypeId": "00000000-0000-0000-0000-000000000000",
        "JobId": "95aa2c29-e7e4-4d8a-92b3-30428679ca91",
        "Capability": "CertStores.Kube.Jobs.Inventory"
      }
    }
  ],
  "add": [
    {
      "TestName": "Add - Opaque Secret - opaque-secret-01 - SUCCESS",
      "Description": "Add a certificate w/o a private key(/password). This test is expected to succeed because the secret should be added to the Kubernetes cluster as a TLS secret.",
      "Fail": false,
      "ExpectedValue": "Success",
      "JobConfig": {
        "LastInventory": [],
        "CertificateStoreDetails": {
          "ClientMachine": "my.test.orchestrator.com",
          "StorePath": "kube/test/opaque-secret-01",
          "StorePassword": null,
          "Properties": "{  \"KubeNamespace\": \"default\",  \"KubeSecretName\": \"opaque-secret-01\",  \"KubeSecretType\": \"secret\"}",
          "Type": 5109
        },
        "OperationType": 2,
        "Overwrite": false,
        "JobCertificate": {
          "Thumbprint": null,
          "Contents": "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",
          "Alias": "",
          "PrivateKeyPassword": null
        },
        "JobCancelled": false,
        "ServerError": null,
        "JobHistoryId": 210000,
        "RequestStatus": 1,
        "ServerUsername": "kubeconfig",
        "ServerPassword": "",
        "UseSSL": true,
        "JobProperties": {
          "Trusted Root": true
        },
        "JobTypeId": "00000000-0000-0000-0000-000000000000",
        "JobId": "36a048c2-f051-407d-9f31-a1ec6ab7d913",
        "Capability": "CertStores.Kube.Jobs.Management"
      }
    }
  ],
  "remove": [
    {
      "TestName": "Remove - TLS Secret - tls-secrte-01 - FAIL",
      "Description": "This test attempts to remove a tls_secret and should fail as the secret does not exist",
      "Fail": true,
      "ExpectedValue": "Fail",
      "JobConfig": {
        "LastInventory": [],
        "CertificateStoreDetails": {
          "ClientMachine": "my.test.orchestrator.com",
          "StorePath": "tls-secrte-01",
          "StorePassword": null,
          "Properties": "{  \"KubeNamespace\": \"default\",  \"KubeSecretName\": \"tls-secrte-01\",  \"KubeSecretType\": \"tls_secret\"}",
          "Type": 5109
        },
        "OperationType": 3,
        "Overwrite": false,
        "JobCertificate": {
          "Thumbprint": null,
          "Contents": "",
          "Alias": "108F439117DB644DFA9AD6014105A904",
          "PrivateKeyPassword": ""
        },
        "JobCancelled": false,
        "ServerError": null,
        "JobHistoryId": 300000,
        "RequestStatus": 1,
        "ServerUsername": "kubeconfig",
        "ServerPassword": "",
        "UseSSL": true,
        "JobProperties": {
          "Trusted Root": true
        },
        "JobTypeId": "00000000-0000-0000-0000-000000000000",
        "JobId": "d9e6e40b-f9cf-4974-a8c3-822d2c4f394f",
        "Capability": "CertStores.Kube.Jobs.Management"
      }
    },
    {
      "TestName": "Remove - TLS Secret - tls-secret-01 - SUCCESS",
      "Description": "Remove a tls_secret 'tls-secret-01' and should succeed since it is added in the add tests.",
      "Fail": false,
      "ExpectedValue": "Success",
      "JobConfig": {
        "LastInventory": [],
        "CertificateStoreDetails": {
          "ClientMachine": "my.test.orchestrator.com",
          "StorePath": "tls-secret-01",
          "StorePassword": null,
          "Properties": "{  \"KubeNamespace\": \"default\",  \"KubeSecretName\": \"tls-secret-01\",  \"KubeSecretType\": \"tls_secret\"}",
          "Type": 5109
        },
        "OperationType": 3,
        "Overwrite": false,
        "JobCertificate": {
          "Thumbprint": null,
          "Contents": "",
          "Alias": "108F439117DB644DFA9AD6014105A904",
          "PrivateKeyPassword": ""
        },
        "JobCancelled": false,
        "ServerError": null,
        "JobHistoryId": 300001,
        "RequestStatus": 1,
        "ServerUsername": "kubeconfig",
        "ServerPassword": "",
        "UseSSL": true,
        "JobProperties": {
          "Trusted Root": true
        },
        "JobTypeId": "00000000-0000-0000-0000-000000000000",
        "JobId": "d9e6e40b-f9cf-4974-a8c3-822d2c4f394f",
        "Capability": "CertStores.Kube.Jobs.Management"
      }
    },
    {
      "TestName": "Remove - Opaque Secret - opaque-secrte-01 - FAIL",
      "Description": "This test attempts to remove a tls_secret and should fail as the secret does not exist",
      "Fail": true,
      "ExpectedValue": "Fail",
      "JobConfig": {
        "LastInventory": [],
        "CertificateStoreDetails": {
          "ClientMachine": "my.test.orchestrator.com",
          "StorePath": "opaque-secrte-01",
          "StorePassword": null,
          "Properties": "{  \"KubeNamespace\": \"default\",  \"KubeSecretName\": \"opaque-secrte-01\",  \"KubeSecretType\": \"secret\"}",
          "Type": 5109
        },
        "OperationType": 3,
        "Overwrite": false,
        "JobCertificate": {
          "Thumbprint": "108F439117DB644DFA9AD6014105A904",
          "Contents": "",
          "Alias": "108F439117DB644DFA9AD6014105A904",
          "PrivateKeyPassword": ""
        },
        "JobCancelled": false,
        "ServerError": null,
        "JobHistoryId": 310000,
        "RequestStatus": 1,
        "ServerUsername": "kubeconfig",
        "ServerPassword": "",
        "UseSSL": true,
        "JobProperties": {
          "Trusted Root": true
        },
        "JobTypeId": "00000000-0000-0000-0000-000000000000",
        "JobId": "d9e6e40b-f9cf-4974-a8c3-822d2c4f394f",
        "Capability": "CertStores.Kube.Jobs.Management"
      }
    },
    {
      "TestName": "Remove - Opaque Secret - opaque-secret-01 - SUCCESS",
      "Description": "This test attempts to remove a tls_secret and should fail as the secret does not exist",
      "Fail": false,
      "ExpectedValue": "Success",
      "JobConfig": {
        "LastInventory": [],
        "CertificateStoreDetails": {
          "ClientMachine": "my.test.orchestrator.com",
          "StorePath": "opaque-secret-01",
          "StorePassword": null,
          "Properties": "{  \"KubeNamespace\": \"default\",  \"KubeSecretName\": \"opaque-secret-01\",  \"KubeSecretType\": \"secret\"}",
          "Type": 5109
        },
        "OperationType": 3,
        "Overwrite": false,
        "JobCertificate": {
          "Thumbprint": "108F439117DB644DFA9AD6014105A904",
          "Contents": "",
          "Alias": "108F439117DB644DFA9AD6014105A904",
          "PrivateKeyPassword": ""
        },
        "JobCancelled": false,
        "ServerError": null,
        "JobHistoryId": 310001,
        "RequestStatus": 1,
        "ServerUsername": "kubeconfig",
        "ServerPassword": "",
        "UseSSL": true,
        "JobProperties": {
          "Trusted Root": true
        },
        "JobTypeId": "00000000-0000-0000-0000-000000000000",
        "JobId": "d9e6e40b-f9cf-4974-a8c3-822d2c4f394f",
        "Capability": "CertStores.Kube.Jobs.Management"
      }
    }
  ]
}
